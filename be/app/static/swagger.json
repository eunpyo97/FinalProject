{
    "swagger": "2.0",
    "info": {
        "title": "RobotPet API",
        "description": "Flask API for RobotPet",
        "version": "1.0.0"
    },
    "host": "127.0.0.1:5000",
    "schemes": [
        "http"
    ],
    "tags": [
        {
            "name": "home",
            "description": "홈 API"
        },
        {
            "name": "auth",
            "description": "인증 관련 API"
        },
        {
            "name": "user",
            "description": "사용자 관리 API"
        },
        {
            "name": "chat",
            "description": "채팅 API"
        },
        {
            "name": "diary",
            "description": "다이어리 API"
        },
        {
            "name": "emotion",
            "description": "얼굴/감정 인식 API"
        }
    ],
    "securityDefinitions": {
        "BearerAuth": {
            "type": "apiKey",
            "in": "header",
            "name": "Authorization",
            "description": "JWT 토큰을 포함한 Authorization 헤더"
        }
    },
    "security": [
        {
            "BearerAuth": []
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "home"
                ],
                "summary": "홈 화면",
                "description": "RobotPet API의 홈",
                "responses": {
                    "200": {
                        "description": "성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "Welcome to RobotPet!"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "회원가입",
                "description": "새 사용자로 등록 ",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                },
                                "password": {
                                    "type": "string",
                                    "example": "Password@123"
                                },
                                "confirm_password": {
                                    "type": "string",
                                    "example": "Password@123"
                                }
                            },
                            "required": [
                                "email",
                                "password",
                                "confirm_password"
                            ]
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "회원가입 요청이 완료되었습니다. 이메일을 확인하세요.",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "회원가입 요청이 완료되었습니다. 이메일을 확인하세요."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청, 비밀번호 확인 불일치 등"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/auth/verify-email": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "이메일 인증 (6자리 코드)",
                "description": "사용자가 이메일 인증을 위해 받은 6자리 코드를 입력하여 인증 완료",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                },
                                "code": {
                                    "type": "string",
                                    "example": "123456"
                                }
                            },
                            "required": [
                                "email",
                                "code"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "이메일 인증 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "이메일 인증이 완료되었습니다."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 또는 인증 코드 불일치"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "로그인",
                "description": "이메일과 비밀번호를 사용한 로그인",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                },
                                "password": {
                                    "type": "string",
                                    "example": "Password@123"
                                },
                                "remember_me": {
                                    "type": "boolean",
                                    "example": true
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "로그인 성공 및 액세스 토큰 반환",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "access_token": {
                                    "type": "string",
                                    "example": "eyJhbGciOiJIUzI1..."
                                },
                                "refresh_token": {
                                    "type": "string",
                                    "example": "eyJhbGciOiJIUzI1..."
                                },
                                "redirect_url": {
                                    "type": "string",
                                    "example": "http://localhost:3000/home"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청"
                    },
                    "401": {
                        "description": "인증 실패"
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "로그아웃",
                "description": "사용자 로그아웃 및 액세스 토큰 무효화",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "access_token": {
                                    "type": "string",
                                    "example": "eyJhbGciOiJIUzI1..."
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "로그아웃 성공"
                    },
                    "400": {
                        "description": "잘못된 요청"
                    },
                    "401": {
                        "description": "유효하지 않은 토큰"
                    }
                }
            }
        },
        "/users/{user_id}/password": {
            "patch": {
                "tags": [
                    "user"
                ],
                "summary": "비밀번호 변경",
                "description": "사용자의 비밀번호 변경(로그인된 상태에서 변경)",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "user-uuid-123"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "old_password": {
                                    "type": "string",
                                    "example": "Password@123"
                                },
                                "new_password": {
                                    "type": "string",
                                    "example": "NewPassword@456"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "비밀번호 변경 성공"
                    },
                    "400": {
                        "description": "잘못된 요청 또는 기존 비밀번호 불일치"
                    }
                }
            }
        },
        "/auth/request-password-reset": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "비밀번호 재설정 요청",
                "description": "이메일로 비밀번호 재설정 링크 발송",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "비밀번호 재설정 링크 전송 완료"
                    },
                    "400": {
                        "description": "잘못된 요청 (예: 이메일 누락)"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/auth/reset-password": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "비밀번호 재설정",
                "description": "토큰을 이용해 비밀번호 변경",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "token": {
                                    "type": "string"
                                },
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                },
                                "new_password": {
                                    "type": "string",
                                    "example": "NewPassword123!"
                                },
                                "confirm_password": {
                                    "type": "string",
                                    "example": "NewPassword123!"
                                }
                            },
                            "required": [
                                "token",
                                "email",
                                "new_password",
                                "confirm_password"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "비밀번호 재설정 성공"
                    },
                    "400": {
                        "description": "잘못된 요청 또는 토큰 불일치"
                    }
                }
            },
            "get": {
                "tags": [
                    "auth"
                ],
                "summary": "비밀번호 재설정 페이지 로드",
                "description": "사용자가 비밀번호를 재설정할 때 토큰을 검증하여 해당 페이지를 로드",
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "required": true,
                        "type": "string",
                        "description": "비밀번호 재설정 토큰"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "토큰 검증 성공 및 비밀번호 재설정 페이지 로드",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "비밀번호 재설정 페이지를 로드합니다."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 토큰 또는 만료된 토큰"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/users/{user_id}": {
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "사용자 정보 조회 (미구현)",
                "description": "사용자 정보 조회 기능이 미구현",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "description": "조회할 사용자 ID"
                    }
                ],
                "responses": {
                    "501": {
                        "description": "미구현 기능"
                    }
                }
            },
            "delete": {
                "tags": [
                    "user"
                ],
                "summary": "회원 탈퇴",
                "description": "사용자 계정 삭제",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "user-uuid-123"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "access_token": {
                                    "type": "string",
                                    "example": "access_token"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "계정 삭제 성공"
                    },
                    "400": {
                        "description": "잘못된 요청"
                    },
                    "403": {
                        "description": "본인만 삭제 가능"
                    }
                }
            }
        },
        "/auth/verify-email-request": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "이메일 인증 요청",
                "description": "사용자가 이메일을 입력하고 인증 요청 시 입력한 이메일로 인증 코드 전송",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                }
                            },
                            "required": [
                                "email"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "이메일 인증 코드 전송 완료",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "인증 코드가 이메일로 전송되었습니다."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (이메일 누락 또는 이미 가입된 이메일)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "이미 가입된 이메일입니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/auth/resend-verification-code": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "이메일 인증 코드 재전송",
                "description": "이미 인증 요청한 이메일에 인증 코드를 다시 전송",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "email": {
                                    "type": "string",
                                    "example": "test1@test.com"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "새로운 인증 코드가 이메일로 전송됨"
                    }
                }
            }
        },
        "/auth/refresh-token": {
            "post": {
                "tags": [
                    "auth"
                ],
                "summary": "액세스 토큰 갱신",
                "description": "리프레시 토큰을 사용해 새 액세스 토큰 발급",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "refresh_token": {
                                    "type": "string",
                                    "example": "eyJhbGciOiJIUzI1..."
                                }
                            },
                            "required": [
                                "refresh_token"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "새로운 액세스 토큰 발급",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "access_token": {
                                    "type": "string",
                                    "example": "eyJhbGciOiJIUzI1..."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (토큰 없음 또는 만료됨)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "Refresh token has expired"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/users/profile": {
            "get": {
                "tags": [
                    "user"
                ],
                "summary": "프로필 조회 (미구현)",
                "description": "프로필 조회 기능 미구현",
                "responses": {
                    "501": {
                        "description": "미구현 기능"
                    }
                }
            },
            "patch": {
                "tags": [
                    "user"
                ],
                "summary": "프로필 수정 (미구현)",
                "description": "프로필 수정 기능 미구현",
                "responses": {
                    "501": {
                        "description": "미구현 기능"
                    }
                }
            }
        },
        "/auth/verify-email-status": {
            "get": {
                "tags": [
                    "auth"
                ],
                "summary": "이메일 인증 상태 확인",
                "description": "이메일 인증했는지 상태 조회",
                "parameters": [
                    {
                        "name": "email",
                        "in": "query",
                        "required": true,
                        "type": "string",
                        "example": "test1@test.com",
                        "description": "확인할 이메일 주소"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "이메일 인증 여부 조회",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "verified": {
                                    "type": "boolean",
                                    "example": true
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "이메일을 입력하지 않은 경우",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "이메일을 입력해야 합니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/chat/message": {
            "post": {
                "tags": [
                    "chat"
                ],
                "summary": "새로운 챗봇 대화 저장",
                "description": "사용자의 메시지를 받아 챗봇 응답을 저장",
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_id": {
                                    "type": "string",
                                    "example": "user_12345"
                                },
                                "chatroom_id": {
                                    "type": "string",
                                    "example": "user_12345_20240220153000"
                                },
                                "user_message": {
                                    "type": "string",
                                    "example": "요즘 너무 우울해요."
                                },
                                "bot_response": {
                                    "type": "string",
                                    "example": "그렇군요.. 요즘 많이 힘드셨겠어요. 어떤 일이 있으셨나요?"
                                },
                                "emotion_id": {
                                    "type": "string",
                                    "example": "65f3a2b9e5f4c2d5a3e8b1c7"
                                },
                                "confidence": {
                                    "type": "number",
                                    "example": 95.5
                                },
                                "conversation_end": {
                                    "type": "boolean",
                                    "example": false
                                }
                            },
                            "required": [
                                "user_id",
                                "chatroom_id",
                                "user_message",
                                "bot_response"
                            ]
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "대화가 성공적으로 저장됨",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "대화가 저장되었습니다."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 값이 누락되었거나 요청이 잘못됨"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/chat/{chatroom_id}": {
            "get": {
                "tags": [
                    "chat"
                ],
                "summary": "특정 채팅방의 대화 기록 조회",
                "description": "특정 채팅방의 대화 기록 반환",
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "user_12345_20240220153000"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "type": "integer",
                        "example": 10
                    }
                ],
                "responses": {
                    "200": {
                        "description": "채팅방의 대화 기록 반환",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "user_message": {
                                        "type": "string"
                                    },
                                    "bot_response": {
                                        "type": "string"
                                    },
                                    "timestamp": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "해당 채팅방을 찾을 수 없음"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/chat/{chatroom_id}/end": {
            "put": {
                "tags": [
                    "chat"
                ],
                "summary": "특정 채팅방의 대화 종료",
                "description": "특정 채팅방을 종료 상태로 변경",
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "user_12345_20240220153000"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "대화 채팅방이 종료됨",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "대화 채팅방이 종료되었습니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/chat/message/{message_id}": {
            "delete": {
                "tags": [
                    "chat"
                ],
                "summary": "특정 메시지 삭제",
                "description": "대화 내 특정 메시지 삭제",
                "parameters": [
                    {
                        "name": "message_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "65f3a2b9e5f4c2d5a3e8b1c7"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "메시지 삭제 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "메시지가 삭제되었습니다."
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "해당 메시지를 찾을 수 없음"
                    },
                    "500": {
                        "description": "서버 오류"
                    }
                }
            }
        },
        "/chat/chatroom": {
            "post": {
                "tags": [
                    "chat"
                ],
                "summary": "새로운 채팅 방 생성",
                "description": "사용자 ID를 받아 새로운 채팅방을 생성합니다.",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "required": true,
                        "type": "string",
                        "example": "user123"
                    }
                ],
                "responses": {
                    "201": {
                        "description": "새로운 채팅방이 성공적으로 생성됨",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "chatroom_id": {
                                    "type": "string",
                                    "example": "user123_20240220123045"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 값(user_id)이 누락됨"
                    },
                    "500": {
                        "description": "서버 내부 오류"
                    }
                }
            }
        },
        "/chat/history/{user_id}": {
            "get": {
                "tags": [
                    "chat"
                ],
                "summary": "사용자의 모든 채팅 채팅방 조회",
                "description": "특정 사용자 ID에 대한 모든 채팅 채팅방 목록을 반환합니다.",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "user123"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "사용자의 채팅 채팅방 목록 조회 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "chatrooms": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "사용자의 채팅 채팅방이 없음"
                    },
                    "500": {
                        "description": "서버 내부 오류"
                    }
                }
            }
        },
        "/chat/preview": {
            "post": {
                "tags": [
                    "chat"
                ],
                "summary": "RAG 검색 결과 미리보기",
                "description": "사용자의 메시지를 입력받아 RAG 검색 결과를 반환합니다.",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_message": {
                                    "type": "string",
                                    "example": "요즘 너무 우울해."
                                }
                            },
                            "required": [
                                "user_message"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "RAG 검색 결과 반환",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "retrieved_documents": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 값(user_message)이 누락됨"
                    },
                    "500": {
                        "description": "서버 내부 오류"
                    }
                }
            }
        },
        "/chat/rag-response": {
            "post": {
                "tags": [
                    "chat"
                ],
                "summary": "RAG 기반 상담 챗봇 응답",
                "description": "사용자의 고민을 입력하면 RAG 검색을 반영하여 상담 챗봇이 응답합니다.",
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_message": {
                                    "type": "string",
                                    "example": "요즘 너무 우울해."
                                }
                            },
                            "required": [
                                "user_message"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "챗봇 응답 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_message": {
                                    "type": "string",
                                    "example": "요즘 너무 우울해."
                                },
                                "retrieved_documents": {
                                    "type": "string",
                                    "enum": [
                                        "반영됨",
                                        "반영 안 됨"
                                    ],
                                    "example": "반영됨"
                                },
                                "bot_response": {
                                    "type": "string",
                                    "example": "그렇군요.. 요즘 많이 힘드셨겠어요. 최근에 특별히 걱정되는 일이 있으셨나요?"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (user_message 없음)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "user_message는 필수 입력값입니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 오류가 발생했습니다."
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/history/search": {
            "get": {
                "tags": [
                    "chat"
                ],
                "summary": "사용자의 채팅방 내용 검색",
                "description": "검색어를 기반으로 사용자의 채팅방 목록 반환",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "검색을 요청한 사용자의 고유 ID",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "query",
                        "in": "query",
                        "description": "검색어 (채팅방 ID 또는 메시지 내용)",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "검색 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "chatrooms": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "chatroom_id": {
                                                "type": "string",
                                                "example": "abc123"
                                            },
                                            "timestamp": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2023-10-01T12:34:56Z"
                                            },
                                            "conversation_end": {
                                                "type": "boolean",
                                                "example": false
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (검색어 누락)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "검색어가 필요합니다."
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "인증 실패",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "인증이 필요합니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/chat/chatroom/{chatroom_id}": {
            "delete": {
                "tags": [
                    "chat"
                ],
                "summary": "특정 채팅방 삭제",
                "description": "사용자의 특정 채팅방 삭제",
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "path",
                        "description": "삭제할 채팅방의 고유 ID",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "삭제 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "채팅방이 삭제되었습니다."
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "인증 실패",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "인증이 필요합니다."
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "채팅방을 찾을 수 없음",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "채팅방을 찾을 수 없습니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/summary": {
            "post": {
                "tags": [
                    "diary"
                ],
                "summary": "대화 내용 요약",
                "description": "사용자의 채팅방 ID를 기반으로 대화 내용을 요약하여 일기 형식으로 생성",
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "body",
                        "description": "대화 내용 요약을 위한 채팅방 ID",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "chatroom_id": {
                                    "type": "string",
                                    "example": "chatroom_123"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "대화 내용 요약 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "summary": {
                                    "type": "string",
                                    "example": "오늘 대화는 모두 긍정적이었어요."
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (chatroom_id가 제공되지 않음)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "chatroom_id가 필요합니다."
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/save": {
            "post": {
                "tags": [
                    "diary"
                ],
                "summary": "일기 내용 저장",
                "description": "대화 내용을 요약하여 일기 형식으로 저장",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_id": {
                                    "type": "string",
                                    "example": "user_123"
                                },
                                "content": {
                                    "type": "string",
                                    "example": "오늘은 친구와 좋은 대화를 나누었어요."
                                },
                                "emotion": {
                                    "type": "string",
                                    "example": "happy"
                                },
                                "date": {
                                    "type": "string",
                                    "example": "2025-02-25"
                                }
                            },
                            "required": [
                                "user_id",
                                "content",
                                "emotion"
                            ]
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "일기 저장 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "일기 저장 성공!"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (필수 값 누락)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "필수 값이 누락되었습니다."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "서버 내부 오류"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/summary/save": {
            "post": {
                "tags": [
                    "diary"
                ],
                "summary": "대화 내용 요약 및 저장",
                "description": "대화 내용 요약을 생성하고, 생성된 요약을 일기 형식으로 저장",
                "parameters": [
                    {
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "chatroom_id": {
                                    "type": "string",
                                    "example": "chatroom_123"
                                }
                            },
                            "required": [
                                "chatroom_id"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "대화 내용 요약 및 저장 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "요약 및 일기 저장 성공!"
                                        },
                                        "summary": {
                                            "type": "string",
                                            "example": "오늘 대화는 모두 긍정적이었어요."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (chatroom_id가 제공되지 않음)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "chatroom_id가 필요합니다."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "서버 내부 오류"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/list": {
            "get": {
                "tags": [
                    "diary"
                ],
                "summary": "특정 날짜에 작성된 일기 목록 조회",
                "description": "사용자가 특정 날짜에 작성한 일기 목록을 조회하는 API",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "description": "사용자의 고유 ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "user_123"
                        }
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "description": "조회할 날짜 (형식: YYYY-MM-DD)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "2025-02-23"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "일기 목록 조회 성공",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "user_id": {
                                        "type": "string",
                                        "example": "user_123"
                                    },
                                    "date": {
                                        "type": "string",
                                        "example": "2025-02-23"
                                    },
                                    "content": {
                                        "type": "string",
                                        "example": "오늘 하루도 잘 보냈어요. 기분이 좋았습니다."
                                    },
                                    "emotion": {
                                        "type": "string",
                                        "example": "happy"
                                    },
                                    "summary": {
                                        "type": "string",
                                        "example": "하루 종일 기분이 좋았고, 긍정적인 일들이 많았다."
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (필수 값이 없거나 유효하지 않음)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "사용자 ID와 날짜는 필수입니다!"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/{diary_id}": {
            "get": {
                "tags": [
                    "diary"
                ],
                "summary": "일기 상세 조회",
                "description": "특정 일기의 상세 정보를 조회하는 API",
                "parameters": [
                    {
                        "name": "diary_id",
                        "in": "path",
                        "description": "상세 조회할 일기의 고유 ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "diary_123"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "일기 상세 조회 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "user_id": {
                                    "type": "string",
                                    "example": "user_123"
                                },
                                "date": {
                                    "type": "string",
                                    "example": "2025-02-23"
                                },
                                "content": {
                                    "type": "string",
                                    "example": "오늘 하루도 잘 보냈어요. 기분이 좋았습니다."
                                },
                                "emotion": {
                                    "type": "string",
                                    "example": "happy"
                                },
                                "summary": {
                                    "type": "string",
                                    "example": "하루 종일 기분이 좋았고, 긍정적인 일들이 많았다."
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "일기 없음 (해당 ID에 대한 일기 없음)",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "일기 없음"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/delete/{diary_id}": {
            "delete": {
                "tags": [
                    "diary"
                ],
                "summary": "일기 삭제",
                "description": "특정 일기를 삭제하는 API",
                "parameters": [
                    {
                        "name": "diary_id",
                        "in": "path",
                        "description": "삭제할 일기의 고유 ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "diary_123"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "일기 삭제 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "일기 삭제 성공!"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "일기 삭제 실패",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "일기 삭제 실패!"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/update/{diary_id}": {
            "put": {
                "tags": [
                    "diary"
                ],
                "summary": "일기 내용 수정",
                "description": "특정 일기의 내용을 수정하는 API",
                "parameters": [
                    {
                        "name": "diary_id",
                        "in": "path",
                        "description": "수정할 일기의 고유 ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "diary_123"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "description": "새로운 일기 내용",
                                        "example": "오늘은 날씨가 정말 좋았다."
                                    },
                                    "emotion": {
                                        "type": "string",
                                        "description": "새로운 감정 상태",
                                        "example": "행복"
                                    }
                                },
                                "required": [
                                    "content"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "일기 수정 성공",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "일기 수정 성공!"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "일기 수정 실패",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "일기 내용은 필수입니다!"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/diary/search": {
            "get": {
                "tags": [
                    "diary"
                ],
                "summary": "일기 내용 검색",
                "description": "특정 사용자 ID와 검색어를 기준으로 일기 내용을 검색하는 API",
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "query",
                        "description": "검색할 사용자의 고유 ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "user_123"
                        }
                    },
                    {
                        "name": "keyword",
                        "in": "query",
                        "description": "검색할 키워드",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "오늘"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "검색 결과 반환",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "diary_id": {
                                        "type": "string",
                                        "example": "diary_123"
                                    },
                                    "content": {
                                        "type": "string",
                                        "example": "오늘은 날씨가 너무 좋았다. 기분도 좋았다."
                                    },
                                    "date": {
                                        "type": "string",
                                        "example": "2025-02-23"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 입력값 누락",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "example": "사용자 ID와 검색어는 필수입니다!"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 내부 오류",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string",
                                    "example": "서버 내부 오류"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/predict": {
            "post": {
                "tags": [
                    "emotion"
                ],
                "summary": "웹캠 프레임에서 실시간 감정 예측",
                "description": "웹캠 스트림에서 전송된 프레임을 받아 실시간으로 감정을 예측하고 결과를 반환합니다.",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "frame": {
                                        "type": "string",
                                        "format": "byte",
                                        "example": "Base64 인코딩된 이미지 데이터",
                                        "description": "웹캠 프레임 (Base64 인코딩)"
                                    },
                                    "user_id": {
                                        "type": "string",
                                        "example": "user123",
                                        "description": "사용자 ID"
                                    },
                                    "chatroom_id": {
                                        "type": "string",
                                        "example": "room456",
                                        "description": "채팅방 ID"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "감정 예측 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "emotion": {
                                            "type": "string",
                                            "example": "happy",
                                            "description": "예측된 감정"
                                        },
                                        "confidence": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 0.85,
                                            "description": "감정 신뢰도 (0~1)"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "감정 분석이 성공적으로 수행되었습니다.",
                                            "description": "응답 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (프레임 데이터 누락 등)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "프레임 데이터가 필요합니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/save-emotion": {
            "post": {
                "tags": [
                    "emotion"
                ],
                "summary": "실시간 감정 데이터 저장",
                "description": "실시간으로 인식된 감정 데이터를 MongoDB에 저장합니다.",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user_id": {
                                        "type": "string",
                                        "example": "user123",
                                        "description": "사용자 ID"
                                    },
                                    "chatroom_id": {
                                        "type": "string",
                                        "example": "room456",
                                        "description": "채팅방 ID"
                                    },
                                    "emotion": {
                                        "type": "string",
                                        "example": "happy",
                                        "description": "감정 레이블"
                                    },
                                    "confidence": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 0.85,
                                        "description": "감정 신뢰도 (0~1)"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "감정 데이터 저장 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true,
                                            "description": "저장 성공 여부"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "감정 데이터 저장 성공",
                                            "description": "응답 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 필드 누락",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "필수 필드가 누락되었습니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/results/{chatroom_id}": {
            "get": {
                "tags": [
                    "emotion"
                ],
                "summary": "특정 채팅방의 감정 데이터 조회",
                "description": "특정 채팅방의 감정 분석 결과를 조회합니다.",
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "room456",
                        "description": "조회할 채팅방 ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "감정 데이터 조회 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "emotion": {
                                                "type": "string",
                                                "example": "happy",
                                                "description": "감정 레이블"
                                            },
                                            "confidence": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 0.85,
                                                "description": "감정 신뢰도 (0~1)"
                                            },
                                            "timestamp": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2023-10-01T12:34:56Z",
                                                "description": "데이터 저장 시간"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "emotion"
                ],
                "summary": "특정 채팅방의 감정 데이터 삭제",
                "description": "특정 채팅방의 감정 분석 결과를 삭제합니다.",
                "parameters": [
                    {
                        "name": "chatroom_id",
                        "in": "path",
                        "required": true,
                        "type": "string",
                        "example": "room456",
                        "description": "삭제할 채팅방 ID"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "감정 데이터 삭제 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "삭제 성공",
                                            "description": "응답 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/save-end-emotion": {
            "post": {
                "tags": [
                    "emotion"
                ],
                "summary": "대화 종료 시 대표 감정 저장",
                "description": "대화 종료 시, 채팅방에서 가장 많이 감지된 감정을 저장합니다.",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "chatroom_id": {
                                        "type": "string",
                                        "example": "room456",
                                        "description": "채팅방 ID"
                                    },
                                    "user_id": {
                                        "type": "string",
                                        "example": "user123",
                                        "description": "사용자 ID"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "대표 감정 저장 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "대화 종료 시 감정 데이터 저장 성공",
                                            "description": "응답 메시지"
                                        },
                                        "emotion": {
                                            "type": "object",
                                            "properties": {
                                                "emotion": {
                                                    "type": "string",
                                                    "example": "happy",
                                                    "description": "대표 감정"
                                                },
                                                "confidence": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 0.85,
                                                    "description": "신뢰도"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 필드 누락",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "필수 필드가 누락되었습니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/history": {
            "get": {
                "tags": [
                    "emotion"
                ],
                "summary": "사용자의 감정 분석 기록 조회",
                "description": "JWT 토큰을 통해 인증된 사용자의 감정 분석 기록을 조회합니다.",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "감정 기록 조회 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "emotion": {
                                                "type": "string",
                                                "example": "happy",
                                                "description": "감정 레이블"
                                            },
                                            "confidence": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 0.85,
                                                "description": "감정 신뢰도 (0~1)"
                                            },
                                            "timestamp": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2023-10-01T12:34:56Z",
                                                "description": "데이터 저장 시간"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "인증 실패 (토큰 누락 또는 유효하지 않음)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "인증이 필요합니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/stats": {
            "get": {
                "tags": [
                    "emotion"
                ],
                "summary": "사용자의 감정 통계 조회",
                "description": "JWT 토큰을 통해 인증된 사용자의 감정 통계를 조회합니다 (주간, 월간 등). 감정 통계는 요약(summary)과 날짜별 감정 변화(trend)로 나뉩니다.",
                "parameters": [
                    {
                        "name": "start_date",
                        "in": "query",
                        "required": true,
                        "type": "string",
                        "format": "date",
                        "example": "2025-02-01",
                        "description": "통계 시작 날짜 (YYYY-MM-DD 형식)"
                    },
                    {
                        "name": "end_date",
                        "in": "query",
                        "required": true,
                        "type": "string",
                        "format": "date",
                        "example": "2025-02-28",
                        "description": "통계 종료 날짜 (YYYY-MM-DD 형식)"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "감정 통계 조회 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "감정 통계 조회 성공",
                                            "description": "응답 메시지"
                                        },
                                        "stats": {
                                            "type": "object",
                                            "properties": {
                                                "summary": {
                                                    "type": "object",
                                                    "description": "감정 요약 (백분율, Pie Chart용)",
                                                    "properties": {
                                                        "happy": {
                                                            "type": "number",
                                                            "example": 50.0,
                                                            "description": "행복 감정 비율 (%)"
                                                        },
                                                        "sadness": {
                                                            "type": "number",
                                                            "example": 30.0,
                                                            "description": "슬픔 감정 비율 (%)"
                                                        },
                                                        "angry": {
                                                            "type": "number",
                                                            "example": 15.0,
                                                            "description": "분노 감정 비율 (%)"
                                                        },
                                                        "panic": {
                                                            "type": "number",
                                                            "example": 5.0,
                                                            "description": "공포 감정 비율 (%)"
                                                        }
                                                    }
                                                },
                                                "trend": {
                                                    "type": "array",
                                                    "description": "날짜별 감정 변화 (Line Chart용)",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "date": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "example": "2025-02-01",
                                                                "description": "감정이 기록된 날짜"
                                                            },
                                                            "emotion": {
                                                                "type": "string",
                                                                "example": "happy",
                                                                "description": "해당 날짜의 대표 감정"
                                                            },
                                                            "confidence": {
                                                                "type": "number",
                                                                "example": 0.85,
                                                                "description": "감정 분석 신뢰도 (0~1)"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "필수 파라미터 누락",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "날짜 범위(start_date, end_date)가 필요합니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "인증 실패 (토큰 누락 또는 유효하지 않음)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "인증이 필요합니다.",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/status": {
            "get": {
                "tags": [
                    "emotion"
                ],
                "summary": "감정 분석 모델 상태 확인",
                "description": "감정 분석 모델의 상태를 확인합니다.",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "모델 상태 확인 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "정상",
                                            "description": "모델 상태"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/emotion/auto-end": {
            "post": {
                "tags": [
                    "emotion"
                ],
                "summary": "미처리된 감정 데이터 자동 종료",
                "description": "날짜가 바뀌면 미종료된 감정 분석 데이터를 자동으로 종료합니다.",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "자동 종료 성공",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "자동 종료된 감정 분석 데이터",
                                            "description": "응답 메시지"
                                        },
                                        "ended_emotions": {
                                            "type": "integer",
                                            "example": 5,
                                            "description": "자동 종료된 데이터 수"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "서버 오류",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "오류 발생: 내부 서버 문제",
                                            "description": "오류 메시지"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}